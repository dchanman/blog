<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>rsync</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Derk's Werks </a></h1>
                <nav><ul>
                    <li class="active"><a href="/category/dev.html">dev</a></li>
                    <li><a href="/category/life.html">life</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/rsync.html" rel="bookmark"
           title="Permalink to rsync">rsync</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-03-16T01:27:00-07:00">
                Published: Mon 16 March 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/derek-chan.html">Derek Chan</a>
        </address>
<p>In <a href="/category/dev.html">dev</a>. </p>
<p>tags: <a href="/tag/pi.html">pi</a> <a href="/tag/linux.html">linux</a> <a href="/tag/nas.html">nas</a> </p>
</footer><!-- /.post-info -->      <p>Currently, the Pi that I'm using as a <em>NAS</em> (Network Attached Storage) is just a single portable harddrive that's spinning on top of a desktop, cooled down by the fact that it's sitting by a window and it's still kinda chilly outdoors these days.</p>
<p>I have absolutely no data redundancy built in at the moment. And while I would like to get a RAID0/1 box from NCIX sometime, I'm just backing up using rsync in the meantime.</p>
<p>My backup drive is truly a piece of art. A 250GB Samba external harddrive that needs to be plugged into the wall socket. I hear the disc whurring away as backup-secure data is being written to it. I swear there's some disc dwarf in there pissed that someone blew the dust off his decade-old home and he's now power-sawing his way out for revenge.</p>
<p>Anyways here's my backup script:</p>
<div class="highlight"><pre><span class="se">\#</span>!/bin/bash  
<span class="nv">LOG_DIR</span><span class="o">=</span>/home/derek/rsync-log.out
rsync -rv /home/derek/pidata/02-Music/ /home/derek/pibackup/02-Music &gt;&gt; <span class="nv">$LOG_DIR</span>  
rsync -rv /home/derek/pidata/03-Photos/ /home/derek/pibackup/03-Photos &gt;&gt; <span class="nv">$LOG_DIR</span> 
rsync -rv /home/derek/pidata/05-Programming/ /home/derek/pibackup/05-Programming &gt;&gt; <span class="nv">$LOG_DIR</span>  
rsync -rv /home/derek/pidata/06-Karate/ /home/derek/pibackup/06-Karate &gt;&gt; <span class="nv">$LOG_DIR</span>  
</pre></div>


<p><em>rsync</em> basically does a copy paste between two folders, skipping over the files that are the same. Of course, the actual algorithm is incredibly powerful and uses concepts such as rolling checksums to efficienctly send only portions of files that have changed to minimize the amount of data actually copied whenever possible.</p>
<p>As you can see, I'm not even backing up all of my files. My 1TB main data disk can't even be fully backed up onto my ancient 250GB harddrive.</p>
<p>I don't even want to set up a cron job for backups because that would involve my backup drive being plugged in 24/7. It's best that I only turn it on once in a while and run the script manually to minimize the wear and tear.</p>
<p>One day. Redundant storage. It's the dream for now, alright.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>